<!DOCTYPE html>
<html>

<head>
    <title>Google OAuth Test</title>
    <script src="https://apis.google.com/js/api.js"></script>
</head>

<body>
    <button onclick="start()">Sign in with Google</button>

    <script>
        const CLIENT_ID = "102886794705-nrf8t8uc78lll08qd9cvq9ckvafk38q9.apps.googleusercontent.com";
        const SCOPES = "https://www.googleapis.com/auth/drive.readonly";

        function start() {
            gapi.load("client:auth2", async () => {
                await gapi.client.init({
                    clientId: CLIENT_ID,
                    scope: SCOPES,
                });

                const authInstance = gapi.auth2.getAuthInstance();

                if (!authInstance.isSignedIn.get()) {
                    await authInstance.signIn();
                }

                const user = authInstance.currentUser.get();
                const token = user.getAuthResponse().access_token;

                alert("Success! Access token: " + token);
                console.log("Access Token:", token);
            });
        }
    </script>
</body>

</html>